# Использование QuckDrawGAN

## Обучение модели

Для запуска обучения модели используйте следующую команду:

```bash
python -m QuckDrawGAN.train --data_path data.ndjson --output_path output --epochs 50 --batch_size 128 --data_max_size 3000
```

### Описание флагов:

- `--data_path`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь к файлу с данными в формате `.ndjson`.

- `--output_path`: 
  - **Тип**: `str`
  - **Обязательный**: `Нет`
  - **Описание**: Директория для сохранения выходных данных.

- `--epochs`: 
  - **Тип**: `int`
  - **Обязательный**: `Нет`
  - **Описание**: Количество эпох для обучения модели.

- `--batch_size`: 
  - **Тип**: `int`
  - **Обязательный**: `Нет`
  - **Описание**: Размер мини-батча для обучения.

- `--data_max_size`: 
  - **Тип**: `int`
  - **Обязательный**: `Нет`
  - **Описание**: Максимальное количество данных для обучения.

  Вот как можно оформить раздел для команды с флагом `--fine_tune` в `usage.md`:

## Дообучение дискриминатора

Дообучение дискриминатора не обязательное действие, но это поможет в будущем генерировать более качественные изображания

Для дообучения дискриминатора используйте следующую команду:

```bash
python -m QuckDrawGAN.train --fine_tune --generator_file pretrained_output/models/generator.pt --discriminator_file pretrained_output/models/discriminator_fine_tuned.pt --data_path duck.ndjson --fine_tune_epochs 20
```

### Описание флагов:

- `--fine_tune`: 
  - **Тип**: `flag`
  - **Обязательный**: `Да`
  - **Описание**: Указывает, что нужно провести дообучение дискриминатора.

- `--generator_file`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь к файлу с весами генератора, который будет использоваться для дообучения.

- `--discriminator_file`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь к файлу с весами дискриминатора, который будет дообучаться.

- `--fine_tune_epochs`: 
  - **Тип**: `int`
  - **Обязательный**: `Нет`
  - **Описание**: Количество эпох для дообучения дискриминатора.

  Вот как можно оформить раздел для команды с запуском модели:

## Генерация изображений

Для генерации изображений с помощью обученной модели используйте следующую команду:

```bash
python -m QuckDrawGAN.model --generator_path pretrained_output/models/generator.pt --discriminator_path pretrained_output/models/discriminator_fine_tuned.pt --output_path result.png --n 16
```

### Описание флагов:

- `--generator_path`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь к файлу с весами обученного генератора.

- `--discriminator_path`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь к файлу с весами обученного дискриминатора.

- `--output_path`: 
  - **Тип**: `str`
  - **Обязательный**: `Да`
  - **Описание**: Путь для сохранения изображения.

- `--n`: 
  - **Тип**: `int`
  - **Обязательный**: `Да`
  - **Описание**: Количество изображений для генерации, срежи которых дискриминатор выберет лучшее.

